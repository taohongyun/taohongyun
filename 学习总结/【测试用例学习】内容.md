# 

## 定义

测试用例又叫做test case ，是为了某个特殊的目标而编制的一组测试输入，执行条件以及预期结果，以便测试某个程序路径或核实是否满足某个特性。

## 测试用例的特性

有效性 测试用例能够被使用，且被不同的人员使用结果一样。

可复用性 良好的测试用例具有重复使用的功能。

易组织性 好的测试用例能够分门别类的提供给测试人员作为参考。

可评估性 测试用例的通过率和软件缺陷的数目是软件产品质量好坏的测试标准。

可管理性  测试用例的通过率和软件缺陷的数目是软件产品质量好坏的测试标准。

## 测试用例要素

| 测试用例编号 | 测试项目（模块) | 预置（前提）条件 | 测试输入 | 预期输出 | 操作步骤         | 测试用例标题         | 级别 |
| ------------ | --------------- | ---------------- | -------- | -------- | ---------------- | -------------------- | ---- |
| ST_子项名_01 | 手机登录        | 手机正常使用     | 手机号   | 正常登录 | 输入手机号并确定 | 测试能否手机登录成功 | 重要 |

其他的要素

- 用例的设计者

- 用例的设计日期

- 对应的开发人员

- 测试结果

- 测试类型

  

## 测试用例的设计原则

- 明确性  避免含糊因素
- 代表性  功能相似的用例合并
- 简洁性  内容简洁，目的明确，结果唯一



## 测试用例的设计方法

### 等价划分法

在测试中最完美的测试就是穷举测试，把所有的数据都测试一遍，但实际工作中不能采用，因为效率太低了，理想的测试时，用最少的测试数据，达到最好的测试质量。

1. **合理假设** 

测试某个等价类的代表值就是该等价类其他值的测试

2. **类型划分**

有效等价类 需求说明中合理的输入数据

无效等价类 需求说明中不合理的输入数据

3. **等价类**

等价类是指某个输入域的子集合，在该子集合中，各个输入数据对于结束程序中的错误都是等效的，具有等价特性。

4. **注意**

设计测试用例的时候，要同时考虑这两种等价类，因为软件不仅要能接受合理的数据，也要能经受意外的考验，这样的测试才能确保软件具有更高的可靠性。

5. **设计测试用例的步骤**

确定需求

确定有效等价类和无效等价类

对每条等价类设计测试用例

5. **案例**

qq登录

需求：6到10位的qq（闭区间，包括6和10)

分析：qq号码必须为整数数字 不能0开头

1. 有效等价类  

   6位、7位、8位、9位、10位（不以0开头）

1. 无效的等价类   

   6位、7位、8位、9位、10位（以0开头）

   小数、字母、特殊字符、汉字、组合



### 边界值法

1. 和等价类划分的区别

等价类划分可以挑选等价范围内任意一个数据作为代表，边界值分析法要求每个边界值都要作为测试条件

边界值输入法不仅要考虑输入条件，还要考虑输出产生的测试情况。

2. 常见的边界值

上点 输入范围内的边界点

离点 离边界点最近的点

内点 输入范围内任意一点

3. 步骤

 明确需求

确定有效和无效等价性

明确输入条件中的边界值

编写测试用例

4. 案例

计算器



### 因果图法

1. 定义

因果图法是一种利用图解法分析输入的各种组合情况，匆而设计测试用例的方法，它适合于检查程序输入条件的各种组合情况。

2. 特点

考虑输入条件的相互制约及组合关系

考虑输出条件对输入条件的依赖关系

3. 核心

因果图法比较合适输入条件比较多的情况，测试所有的输入条件的排列组合，所谓的原因就是输入，所谓的结果就是输出条件。

4. 主要内容

所有输入/输出条件的相互制约关系以及组合关系。

输入条件的依赖关系，也就是社么样的输入组合会产生怎么样的输出结果。



5. 基本符号(通常在因果图中用C1表示原因，E1表示结果，各节点表示状态，可取0和1.0表示状态不出现，1表示状态出现。)

恒等： 若原因出现则结果出现，若原因不出现则结果不出现

非： 若原因出现则结果不出现，若原因不出现则结果出现。

或：若几个原因中有一个出现则结果出现，若几个原因中有一个不出现则结果不出现。

与;   若几个原因都出现则结果出现，若其中一个原因不出现则结果不出现。



6. 约束条件

E约束：a和b中最多有一个为1

I包含： a、b、c中至少有一个必须是1

M强制：若结果a为1，则结果b强制为0

O唯一： a、b必须要有一个，且仅有一个为1

R要求：a是1时，b必须是1



7. 基本步骤

找出所有的原因，原因即输入条件或者输入条件的等价类

找出所有的结果，结果即输出条件

明确所有输入条件之间的制约关系以及组合关系，哪些条件不能组合在一起，那些条件可以组合在一起。

明确所有输出条件之间的制约关系以及组合关系，哪些输出结果不能同时输出，那些输出结果可以同时输出。

找出什么样的输入条件组合会产生那种输出结果

把因果图转换成判定表/决策表

为判定表/决策表中的每一列表示的情况设计测试用例

8. 案例

交通一卡通自动充值软件                                                                                                                                          

输入

1. 50元

2. 100元

3. 选择充值50元

4. 选择充值100元



条件1和2不能组合

条件1和3可以i组合

条件1和4可以组合

条件2和3可以组合

条件3和4可以组合

添加3和4不能组合

条件1、2、3、4可以单独出现



输出

5. 完成充值退卡

6. 提示充值成功

7. 找零

8. 提示错误

结果5和6必须同时组合

结果567可以组合，但不是必须组合

结果5和8不能同时出现

结果6和8也就不能同时出现

结果7和8可以i同时出现

结果8可以单独出现





### 判定表法

因果图法的最终产物

判定表也叫决策表，是分析和表达多逻辑条件下执行不同操作的工具。

使用场景

适合多个输入多个输出的环境，输入和输出之间有相互的组合关系，输入 输出之间有相互的制约和依赖的关系。





### 正交法

正交法，也叫正交实验法或者正交排列法，就是使用最小的测试过程集合获得最大的测试覆盖率。

**原理**

测试用例的条数少了 

测试出来的bug数量多了



**allpairs工具的使用**

利用excel准备一个表格

将表格内容粘贴到txt中，保存

通过allpairs命令生成

拷贝结果到测试用例中

allpairs.exe zhengjiao.txt > chenggong.txt



### 场景法

预设场景

定义

从起点，通过一系列的操作步骤（事件），达成某一结果，到终点的过程。

场景法主要用于冒烟测试

在通过场景测试后，再通过其他方式进行更为细腻的测试



概念及定义

现在的软件几乎都是由事件触发来控制流程，事件触发的情景边成了场景，而同一事件不同的触发顺序和处理结果形成事件流。



### 流程分析法

流程分析法主要是针对测试场景类型属于流程测试场景的测试项下的测试子项进行设计。



步骤：

详细了解需求

根据需求说明，找出业务流程的各个页面以及各页面之间的流程关系

画出业务流程

写用例，覆盖所有的路径分支



案例：

ATM

ATM机的功能

绘制出可达矩阵

使用深度和广度法进行遍历

写测试用例



使用场景：

一般用于测试非常重要的系统（ATM机，医疗设备）



### 错误推断法

错误推断法是基于经验和直觉推测出程序中可能存在的各种错误，从而有针对性的设计测试用例的方法。



适用场景

适用项目时间比较短，任务比较繁重的情况下，需要测试经验比较多。





### 测试用例的力度

简单

仅仅是测试的纲要，可能只包含测试的内容，简单的测试用例并没有进行设计，而仅仅是记录，只是提醒测试人员主要功能有哪些。

复杂

包含具体的输入项，每个步骤，期待的结果。

中庸

过于简单，会导致测试有遗漏，而且根据测试人员的水平不同会有较大的偏差，过于复杂，会导致效率太低，维护成本太高，限制测试人员的思维，一般在工作中都介于两者之间。



### 测试用例的设计总结

测试用例的本质是基于需求，理解需求，反映需求，需求有变化，测试用例也应该是有变化的，及时的响应变化比遵循计划更有价值。



原则

根据程序的重要性和发生故障带来的损失，来确定测试等级和测试重点

认真选择测试策略，用少的测试用例发现多的错误。测试用例不足会导致风险的增大，测试用例过度会导致资源的浪费。



方法

先关注主要功能和业务流程、业务逻辑是否正确实现，考虑场景法。

需要输入数据的地方，考虑等价划分法。

任何情况选取值的时候都要用边界值法

如果程序功能中包含输入输出条件的组合情况，选取因果图和判定法

对于配置类软件，考虑参数的组合情况，考虑使用正交排列法

对照程序逻辑，如果没有达到需求的覆盖标准，适当补充更多的测试用例

采取错误推断法，追加其他测试用例





### 测试用例的评审

同行评审

由测试小组内部进行相互评审，达到思想的碰撞，通过探讨，协作完成测试用例的设计

用户评审

如果测试的是对产品的批判，则顾客指最终用户或者顾客代表，在公司内部可以是市场调查员或者相关领域的代表

如果测试是为软件开发提供帮助和支持，那么顾客就是开发人员。