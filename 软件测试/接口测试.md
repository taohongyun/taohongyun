## 接口

硬件接口、软件接口

数据交互的通道

## 接口类型

系统内接口（订单系统到外部系统）

系统外接口（登录系统到订单系统）

## 接口测试定义

检测系统组件间接口的一种测试方法

## 接口的目的

检测数据的交换、传递的正确性，以及接口间的逻辑依赖关系

## 接口测试的原理

模拟客户端建立连接

向服务器发送请求

服务端处理请求并发出响应

检验响应信息

## 接口测试的优点（特点）

可以提前介入与开发并行测试，缩短项目周期，责任划分明确，

可以发现一些界面操作发现不了的问题

接口测试成本低收益高，及时发现并解决缺陷。

接口测试不同于单元测试，它是从用户的角度对系统进行全面的检测

## 接口测试的实现方式 

通过接口测试工具来实现（postman、jmeter）

通过编写代码来实现（python+request）

## api接口

应用程序编程接口，以http协议形式提供，定义输入、输出、功能描述的服务。

## 接口测试流程

1. 接口的功能测试（先保证接口是正确的）
2. 测试接口的数据（传递一些特殊数据，保证接口没有问题）
3. 自动化测试脚本的编辑
4. 接口的性能、压力测试

## 网络编程基本概念

客户端 client

服务器 server

请求 request

响应 response

## http协议：

超文本传输协议，是一种规定了浏览器和服务器之间通信的规则

## url：

统一资源定位符，互联网上资源的地址，每个资源都有一个唯一的url

## url格式

协议 

域名 可以是域名也可以是网址

端口  默认的端口不用填写 （http默认80 https默认443）

资源路径部分（服务器接口地址）

参数部分

## http请求

http请求由三部分构成 请求行、请求头、请求体

请求行：第一行信息 包括请求方式、请求路径、请求协议

请求头：键值对（key value）

请求体：get请求没有请求体、post和put请求有请求体

## http响应

http响应由三部分构成 状态行、响应头、响应体

状态行：第一行信息 包括协议版本号、状态码、状态消息

响应头：键值对（key value）

响应体：

## 请求（GET、POST）

GET(查)：

明文提交，提交的信息都显示在地址栏上边，而且提交的信息的数量也有限制，一般用于向服务器获取信息的时候用

POST(增)：

隐式提交，提交的信息不会出现在地址栏上边，提交的信息的数量也没有限制，一般用于向服务器提交上传信息的时候使用

## 数据传递格式

键值对：？xx=11&xx=222

JSON数据：

{属性：属性值，属性：属性值}

## 响应状态码

状态码有三位数字组成，第一位定义了响应类型，有五种可能取值

1xx:指示信息——表示请求已接收，继续处理

2xx:成功——表示请求已被成功接收、理解、接受

3xx:重定向——要完成请求必须进行更进一步的操作。

4xx:客户端错误——请求有语法错误或请求无法实现

5xx: 服务器端错误——服务器未能实现合法的请求

| 状态    | 状态消息              | 动词       | 说明                                                        |
| ------- | --------------------- | ---------- | ----------------------------------------------------------- |
| **200** | OK                    | [GET]      | 服务器成功返回请求的数据                                    |
| **201** | CREATE                | [POST/PUT] | 用户新建或者修改数据成功                                    |
| 202     | Accepted              | [*]        | 表示一个请求已经进入后台排队                                |
| **204** | NO CONTENT            | [DELETE]   | 用户删除数据成功                                            |
| 400     | Bad Request           | [POST/PUT] | 客户端请求由语法问题，不能被服务器所理解                    |
| **401** | Unauthorized          | [*]        | 表示用户没有权限（令牌、用户名、密码错误）                  |
| **403** | Forbidden             | [*]        | 表示用户得到授权（与401相对），但是访问是被禁止的           |
| **404** | Not Found             | [*]        | 请求资源不存在，如输入了错误的url                           |
| 406     | Not Acceptable        | [GET]      | 用户请求的格式不可得比如请求的json格式的，但是只有xml格式的 |
| 410     | Gone                  | [GET]      | 用户请求资源被永久删除，且不会被再得到                      |
| 500     | INTERNAL SERVER ERROR | [*]        | 服务器发生错误，用户将无法判断发出的请求是否成功            |
| 503     | Server Unavailable    | [*]        | 服务器当前不能处理客户端请求，一段时间后可恢复正常          |



## reatfull风格

按照一定的规则写出易读、易懂的api文档；目的在于让前端、后端、测试三方工作的时候有据可循，提升开发与测试的效率

## postman 接口测试需要的三个基本条件

请求地址

请求参数

请求方式







## 接口测试的优点

可以实现与开发并行测试，缩短项目的测试周期，责任划分清楚。

## post与get的区别

get 是明文提交，提交的信息都显示在地址栏，提交的信息数量有限制，一般提交获取信息的时候用get

post 是隐式数据提交，提交的数据不会显示在地址栏，比较安全，提交信息数量没有限制，一般提交上传信息的时候用post 

## 接口测试用例的要点

1）必填字段：请求参数必填项、可选项
2）合法性：输入输出合法、非法参数
3）边界：请求参数边界值等
4）容错能力：大容量数据、频繁请求、重复请求（如：订单）、异常网络等的处理
5）响应数据校验：断言、数据提取传递到下一级接口…
6）逻辑校验：如两个请求的接口有严格的先后顺序，需要测试调转顺序的情况
7）性能：对接口模拟并发测试，逐步加压，分析瓶颈点
8）安全性：构造恶意的字符请求，如：SQL注入、XSS、敏感信息、业务逻辑（如：跳过某些关键步骤；未经验证操纵敏感数据）

## 什么是断言

判断实际结果是否符合预期

## 接口测试的步骤

发送接口请求

测试接口获取返回值

断言：判断返回结果是否符合预期

## cookie 和 session 的区别

当客户端发送请求后，服务器端就会产生一个session，用来记录用户的会话数据，然后session生成一个sessionID，存放在kookie上边，返回时一起返回储存在客户端，等下一次请求的时候一起发送到服务器端，服务器端就能根据sessionID确认用户，推荐合适的推荐。

## token

验证用户的身份信息

## cookie与token的区别

kookie保存在客户端上边，session保存在服务器上边

cookie不是很安全，且保存的数量也有限

session能够在一定的时间内保存在服务器上边，当访问增多时，会占用服务器性能。

## cookie与token的区别

cookie不能跨域访问，但token可以，但前提时用户认证信息通过http头传输

